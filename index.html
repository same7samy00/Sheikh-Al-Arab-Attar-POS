<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جاري التحميل - شيخ العرب</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* الألوان: أزرق (#3f51b5), أبيض (#ffffff), أسود (#000000) - مع درجات للرمادي */
        /* الحواف المستديرة: 8px */
        /* الخطوط: Cairo */

        body {
            font-family: 'Cairo', sans-serif; /* استخدام خط كايرو بالكامل */
            direction: rtl; /* اتجاه النص من اليمين لليسار */
            margin: 0;
            padding: 0;
            background-color: #f4f7f6; /* خلفية رمادية فاتحة جداً (مائلة للأزرق الفاتح) */
            display: flex;
            justify-content: center; /* توسيط أفقي */
            align-items: center; /* توسيط عمودي */
            min-height: 100vh;
            color: #3f51b5; /* لون نص أزرق */
            font-size: 1.5em;
            text-align: center;
        }

        /* لا توجد بطاقات هنا لأنها صفحة بسيطة للتحويل */
    </style>
</head>
<body>
    <div>جاري التحقق من حالة تسجيل الدخول...</div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";
        // لا نحتاج Firestore هنا، فقط Authentication للتحقق من حالة الدخول.

        // معلومات تهيئة تطبيق Firebase الخاص بك (تم تكرارها هنا كما طلبت)
        const firebaseConfig = {
          apiKey: "AIzaSyC5ls-rPdJ65x5BoMGwAOpdcPtD585C2ys",
          authDomain: "pharmacy-inventory-bf04a.firebaseapp.com",
          projectId: "pharmacy-inventory-bf04a",
          storageBucket: "pharmacy-inventory-bf04a.firebasestorage.app",
          messagingSenderId: "937788650384",
          appId: "1:937788650384:web:6451225d00e648f3a0b915",
          measurementId: "G-ZGC9EQ55SL"
        };

        // تهيئة Firebase Services
        const app = initializeApp(firebaseConfig);
        // const analytics = getAnalytics(app); // قد لا تحتاج للـ Analytics في هذه الصفحة البسيطة
        const auth = getAuth(app); // تهيئة Authentication

        // منطق التحقق من المصادقة والتوجيه
        onAuthStateChanged(auth, (user) => {
            if (user) {
                // المستخدم مسجل الدخول، وجهه إلى لوحة التحكم
                window.location.replace('dashboard.html');
            } else {
                // المستخدم غير مسجل الدخول، وجهه إلى صفحة تسجيل الدخول
                window.location.replace('login.html');
            }
        });
    </script>
</body>
</html>
